<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Decimal to Signed Hex</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            text-align: center;
        }
        
        input,
        button {
            margin: 5px;
            padding: 5px;
        }
        
        #result {
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <h2>Decimal to Signed Hex Converter</h2>
    <input type="text" id="inputValue" placeholder="Nhập số (VD: 734694)">
    <button onclick="convert()">Chuyển đổi</button>
    <div id="result"></div>
    <div id="result_3"></div>

    <script>
        function convert() {
            const input = document.getElementById("inputValue").value.trim();
            const resultDiv = document.getElementById("result");

            try {
                // Kiểm tra input là số nguyên
                if (/^-?\d+$/.test(input)) {
                    const decimal = parseInt(input, 10);
                    const signedHex = toSignedHex(decimal); // Chuyển sang hex của giá trị signed
                    resultDiv.innerHTML = `Input: ${decimal}<br>Hex (32-bit): ${signedHex}`;
                } else {
                    resultDiv.innerHTML = "Vui lòng nhập số nguyên hợp lệ!";
                }
            } catch (err) {
                document.getElementById("result_3").innerHTML = err.message;
            }
        }

        // Chuyển decimal sang hex signed 32-bit
        function toSignedHex(decimal) {
            let uint32 = decimal > 0 ? (0xFFFFFFFF - Math.abs(decimal)) >>> 0 : decimal >>> 0;
            // Tính hex từ signed32
            if (decimal < 0) {
                uint32 = (0xFFFFFFFF - Math.abs(decimal) + 1) >>> 0; // Two's complement
            }
            return uint32.toString(16).toUpperCase().padStart(8, "0");
        }
    </script>
</body>

</html>
